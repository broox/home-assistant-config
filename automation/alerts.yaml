- id: away_from_home
  alias: Everyone is away from home
  trigger:
    platform: state
    entity_id: group.family
    from: home
    to: not_home
  action:
    service: notify.facebook
    data:
      message: Everyone has left the house
      target: !secret notify_phone_number

- id: someone_home
  alias: Someone is home
  trigger:
    platform: state
    entity_id: group.family
    from: not_home
    to: home
  action:
    service: notify.facebook
    data:
      message: Someone is home
      target: !secret notify_phone_number

- id: hass_update
  alias: Home assistant updated
  trigger:
  - platform: state
    entity_id: updater.updater
  action:
    service: notify.facebook
    data:
      message: "Home Assistant {{ states.updater.updater.state }} is now available"
      target: !secret notify_phone_number

- id: garage_door_open_while_away
  alias: Garage door open while away
  trigger:
  - platform: state
    entity_id: group.family
    to: not_home
  - platform: state
    entity_id: cover.garage_door_opener
    to: open
  condition:
    condition: and
    conditions:
    - condition: state
      entity_id: cover.garage_door_opener
      state: open
    - condition: state
      entity_id: group.family
      state: not_home
  action:
    - service: notify.facebook
      data:
        message: Garage door is open
        target: !secret notify_phone_number